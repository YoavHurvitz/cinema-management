{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\Final Project Full Stack\\\\client\\\\src\\\\pages\\\\Member.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { Container, Card, CardContent, Typography, Button, List, ListItem, ListItemText, Divider, ListItemSecondaryAction, IconButton } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddSubscription from '../components/AddSubscription';\nimport { fetchSubscriptions, addSubscription, deleteSubscription } from '../redux/subscriptionsSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Member() {\n  _s();\n  const {\n    memberId\n  } = useParams(); // Assuming memberId is part of the route\n  const dispatch = useDispatch();\n  const [subscriptions, setSubscriptions] = useState([]);\n  const members = useSelector(state => state.members);\n  useEffect(() => {\n    const fetchAndUpdateSubscriptions = async () => {\n      const fetchedSubscriptions = await dispatch(fetchSubscriptions(memberId));\n      setSubscriptions(fetchedSubscriptions.payload); // Assuming the payload contains the subscriptions\n    };\n    fetchAndUpdateSubscriptions();\n  }, [dispatch, memberId]);\n  const handleAddSubscription = async subscriptionDetails => {\n    await dispatch(addSubscription({\n      ...subscriptionDetails,\n      memberId\n    }));\n    // Re-fetch subscriptions to update UI\n    const updatedSubscriptions = await dispatch(fetchSubscriptions(memberId));\n    setSubscriptions(updatedSubscriptions.payload);\n  };\n  const handleDeleteSubscription = async subscriptionId => {\n    await dispatch(deleteSubscription(subscriptionId));\n    // Update subscriptions list in UI\n    setSubscriptions(subscriptions.filter(sub => sub.id !== subscriptionId));\n  };\n\n  // Find member details\n  const memberDetails = members.find(member => member.id === memberId);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h2\",\n          children: [memberDetails === null || memberDetails === void 0 ? void 0 : memberDetails.name, \"'s Subscriptions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: subscriptions.map(subscription => /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: subscription.movieTitle,\n              secondary: `Subscribed on: ${subscription.date}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                edge: \"end\",\n                \"aria-label\": \"delete\",\n                onClick: () => handleDeleteSubscription(subscription.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, subscription.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddSubscription, {\n          onAddSubscription: handleAddSubscription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Member, \"rTqlJn7FXMP/T6F816IRo/3zMSY=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = Member;\nexport default Member;\nvar _c;\n$RefreshReg$(_c, \"Member\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useParams","Container","Card","CardContent","Typography","Button","List","ListItem","ListItemText","Divider","ListItemSecondaryAction","IconButton","DeleteIcon","AddSubscription","fetchSubscriptions","addSubscription","deleteSubscription","jsxDEV","_jsxDEV","Member","_s","memberId","dispatch","subscriptions","setSubscriptions","members","state","fetchAndUpdateSubscriptions","fetchedSubscriptions","payload","handleAddSubscription","subscriptionDetails","updatedSubscriptions","handleDeleteSubscription","subscriptionId","filter","sub","id","memberDetails","find","member","maxWidth","children","variant","component","name","fileName","_jsxFileName","lineNumber","columnNumber","map","subscription","primary","movieTitle","secondary","date","edge","onClick","onAddSubscription","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/Final Project Full Stack/client/src/pages/Member.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport AddSubscription from '../components/AddSubscription';\r\nimport { fetchSubscriptions, addSubscription, deleteSubscription } from '../redux/subscriptionsSlice';\r\n\r\nfunction Member() {\r\n  const { memberId } = useParams(); // Assuming memberId is part of the route\r\n  const dispatch = useDispatch();\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n  const members = useSelector(state => state.members);\r\n\r\n  useEffect(() => {\r\n    const fetchAndUpdateSubscriptions = async () => {\r\n      const fetchedSubscriptions = await dispatch(fetchSubscriptions(memberId));\r\n      setSubscriptions(fetchedSubscriptions.payload); // Assuming the payload contains the subscriptions\r\n    };\r\n\r\n    fetchAndUpdateSubscriptions();\r\n  }, [dispatch, memberId]);\r\n\r\n  const handleAddSubscription = async (subscriptionDetails) => {\r\n    await dispatch(addSubscription({ ...subscriptionDetails, memberId }));\r\n    // Re-fetch subscriptions to update UI\r\n    const updatedSubscriptions = await dispatch(fetchSubscriptions(memberId));\r\n    setSubscriptions(updatedSubscriptions.payload);\r\n  };\r\n\r\n  const handleDeleteSubscription = async (subscriptionId) => {\r\n    await dispatch(deleteSubscription(subscriptionId));\r\n    // Update subscriptions list in UI\r\n    setSubscriptions(subscriptions.filter(sub => sub.id !== subscriptionId));\r\n  };\r\n\r\n  // Find member details\r\n  const memberDetails = members.find(member => member.id === memberId);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            {memberDetails?.name}'s Subscriptions\r\n          </Typography>\r\n          <List>\r\n            {subscriptions.map((subscription) => (\r\n              <ListItem key={subscription.id}>\r\n                <ListItemText\r\n                  primary={subscription.movieTitle}\r\n                  secondary={`Subscribed on: ${subscription.date}`}\r\n                />\r\n                <ListItemSecondaryAction>\r\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => handleDeleteSubscription(subscription.id)}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n          <Divider />\r\n          <AddSubscription onAddSubscription={handleAddSubscription} />\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Member;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SACEC,SAAS,EACTC,IAAI,EACJC,WAAW,EACXC,UAAU,EACVC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,YAAY,EACZC,OAAO,EACPC,uBAAuB,EACvBC,UAAU,QACL,eAAe;AACtB,OAAOC,UAAU,MAAM,4BAA4B;AACnD,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,SAASC,kBAAkB,EAAEC,eAAe,EAAEC,kBAAkB,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtG,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM;IAAEC;EAAS,CAAC,GAAGrB,SAAS,CAAC,CAAC,CAAC,CAAC;EAClC,MAAMsB,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACyB,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM6B,OAAO,GAAG1B,WAAW,CAAC2B,KAAK,IAAIA,KAAK,CAACD,OAAO,CAAC;EAEnD5B,SAAS,CAAC,MAAM;IACd,MAAM8B,2BAA2B,GAAG,MAAAA,CAAA,KAAY;MAC9C,MAAMC,oBAAoB,GAAG,MAAMN,QAAQ,CAACR,kBAAkB,CAACO,QAAQ,CAAC,CAAC;MACzEG,gBAAgB,CAACI,oBAAoB,CAACC,OAAO,CAAC,CAAC,CAAC;IAClD,CAAC;IAEDF,2BAA2B,CAAC,CAAC;EAC/B,CAAC,EAAE,CAACL,QAAQ,EAAED,QAAQ,CAAC,CAAC;EAExB,MAAMS,qBAAqB,GAAG,MAAOC,mBAAmB,IAAK;IAC3D,MAAMT,QAAQ,CAACP,eAAe,CAAC;MAAE,GAAGgB,mBAAmB;MAAEV;IAAS,CAAC,CAAC,CAAC;IACrE;IACA,MAAMW,oBAAoB,GAAG,MAAMV,QAAQ,CAACR,kBAAkB,CAACO,QAAQ,CAAC,CAAC;IACzEG,gBAAgB,CAACQ,oBAAoB,CAACH,OAAO,CAAC;EAChD,CAAC;EAED,MAAMI,wBAAwB,GAAG,MAAOC,cAAc,IAAK;IACzD,MAAMZ,QAAQ,CAACN,kBAAkB,CAACkB,cAAc,CAAC,CAAC;IAClD;IACAV,gBAAgB,CAACD,aAAa,CAACY,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,EAAE,KAAKH,cAAc,CAAC,CAAC;EAC1E,CAAC;;EAED;EACA,MAAMI,aAAa,GAAGb,OAAO,CAACc,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACH,EAAE,KAAKhB,QAAQ,CAAC;EAEpE,oBACEH,OAAA,CAACjB,SAAS;IAACwC,QAAQ,EAAC,IAAI;IAAAC,QAAA,eACtBxB,OAAA,CAAChB,IAAI;MAAAwC,QAAA,eACHxB,OAAA,CAACf,WAAW;QAAAuC,QAAA,gBACVxB,OAAA,CAACd,UAAU;UAACuC,OAAO,EAAC,IAAI;UAACC,SAAS,EAAC,IAAI;UAAAF,QAAA,GACpCJ,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEO,IAAI,EAAC,kBACvB;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACb/B,OAAA,CAACZ,IAAI;UAAAoC,QAAA,EACFnB,aAAa,CAAC2B,GAAG,CAAEC,YAAY,iBAC9BjC,OAAA,CAACX,QAAQ;YAAAmC,QAAA,gBACPxB,OAAA,CAACV,YAAY;cACX4C,OAAO,EAAED,YAAY,CAACE,UAAW;cACjCC,SAAS,EAAE,kBAAkBH,YAAY,CAACI,IAAI;YAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC,eACF/B,OAAA,CAACR,uBAAuB;cAAAgC,QAAA,eACtBxB,OAAA,CAACP,UAAU;gBAAC6C,IAAI,EAAC,KAAK;gBAAC,cAAW,QAAQ;gBAACC,OAAO,EAAEA,CAAA,KAAMxB,wBAAwB,CAACkB,YAAY,CAACd,EAAE,CAAE;gBAAAK,QAAA,eAClGxB,OAAA,CAACN,UAAU;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACU,CAAC;UAAA,GATbE,YAAY,CAACd,EAAE;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUpB,CACX;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACP/B,OAAA,CAACT,OAAO;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACX/B,OAAA,CAACL,eAAe;UAAC6C,iBAAiB,EAAE5B;QAAsB;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB;AAAC7B,EAAA,CA3DQD,MAAM;EAAA,QACQnB,SAAS,EACbF,WAAW,EAEZC,WAAW;AAAA;AAAA4D,EAAA,GAJpBxC,MAAM;AA6Df,eAAeA,MAAM;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}